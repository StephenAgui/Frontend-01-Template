# 每周总结可以写在这里

符合选择器  main>div.a.b#idd[arrt=value]
实现符合选择器，支持空格的class选择器；

div.container a.x#y{

}
[2,2,1,0]
body div a.x#y{

}

[3,1,1,0]

分别代表 标签  类   id   行内


1.正则字符串匹配，对字符传逐个的比对；

有限状态机一般指有限状态自动机（finite state machine），有限状态机拥有有限数量的状态，每个状态可以迁移零个或者多个状态，输入字符串决定执行哪个状态的迁移。有限状态机可以表示为一个有向图。


有限状态机的应用：1.构建游戏中敌人的AI；编译原理中构建AST；实现正则表达式；

每个状态都是一个机器：
    在每一个机器里面，我们可以做计算、存储、输出；
    所有的这些机器接收的输入都是一致的
    状态机的每个机器本身没有状态，如果用函数表示的话，应该是虚函数；
    每个机器都有确定的下一个状态（Moore）
    每个机器根据输入决定下一个状态
    
    
浏览器的工作原理 | HTML的解析
1.拆分文件：将parsec单独拆分文件中，方便管理；parse接收HTML文本作为参赛，返回DOM树；
2.创建状态机：解析HTML
3.解析标签：主要的标签有：开始标签，结束标签和自闭和标签；
4.创建原始：在状态机中，除了状态迁移，还要加入业务逻辑；在标签借宿的时候提交token；
5.处理属性：属性分为单引号，双引号和无引号三种写法，因此需要处理较多的状态，属性结束提交token；
6.构建DOM树：从标签构建DOM树的基本技巧是用栈，遇到开始标签时，创建元素并入栈，遇到结束标签时出站；自闭合标签视为入栈后立即出栈；任何元素的父元素是它入栈千的栈顶；
7.文本节点：文本节点与自闭和标签处理类似，多个文本节点需要闭合；

浏览器工作原理|CSS计算
1.收集CSS规则：遇到style标签，把sCSS规则保存起来，调用CSS Parse解析CSS规则
2.添加调用：当我们创建一个元素后，立即计算CSS；理论上，当我们分享一个元素的 时候，所有的CSS规则已经收集完毕；
3.获取父元素序列：在computeCSS函数中，我们必须知道元素的所有父元素才能判断元素与规则是否匹配
4.拆分选择器：选择器要从当前元素向外排列
